'use strict';(function(){$xirsys.class.create({namespace:'databind',inherits:$xirsys.events,constructor:function(a,b){this.init(a,b)},methods:{init:function(a,b){this.id=a;this.cb=b;this.attr="data-bind-"+a;this.msg=a+":change";if(document.addEventListener)document.addEventListener("change",this.change_handler.bind(this),false);else document.attachEvent("onChange",this.change_handler.bind(this));$xirsys.events.getInstance().on(this.msg,this.msg_handler.bind(this))},change_handler:function(a){var b=a.target||a.srcElement,c=b.getAttribute(this.attr);if(!!c&&c!=="")$xirsys.events.getInstance().emit(this.msg,c,b.value)},msg_handler:function(a,b,c){var e=document.querySelectorAll("["+this.attr+"='"+b+"']"),f;if(this.cb)this.cb.call(this,c);for(var d=0,g=e.length;d<g;d++){f=e[d].tagName.toLowerCase();if(f==="input"||f==="textarea"||f==="select")e[d].value=c;else e[d].innerHTML=c}}}})})();